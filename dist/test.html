<!doctype html>
<html data-framework="vue">
  <head>
    <meta charset="utf-8">
    <title>    </title>
    <style>
      .hello {
        background: #e0e0e0;
        font-size: 12px;
        display: inline;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script src="vue.js"></script>
    <script>
      debugger
    var ComA = {
      props: {
        name: {
          type: String
        }
      },
      data() {
        return {
          message: 'haha'
        }
      },
      watch: {
        message() {

        }
      },
      methods: {
        handleClick() {
          this.message = Math.random()
        }
      },
      render(h) {
        return h('h1', {
          ref: 'hello',
          attrs: {
            class: 'hello'
          },
          on: {
            click: this.handleClick
          }
        }, this.name + ': ' + this.message)
      }
    }
    Vue.component('com-a', ComA)

    var App = {
      methods: {
        handleClick() {
          this.$emit('my-click')
        }
      },
      render(h) {
        return h('div', {
          ref: 'app',
          attrs: {
            class: 'app',
          },
          on: {
            click: this.handleClick
          }
        }, this.$scopedSlots.default('A'))
      }
    }

    window.vm = new Vue({
      el: '#app',
      components: {
        App,
        ComA
      },
      methods: {
        handleClick() {
          console.log('click')
        }
      },
      template: `
        <App ref="root" @my-click="handleClick">
          <template slot-scope="scope">
            {{scope}}
          </template>
        </App>
      `
    })
    </script>
  </body>
</html>
