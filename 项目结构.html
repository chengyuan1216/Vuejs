第一篇 Vue原型扩展

initMixin
定义了 Vue.prototype._init 方法。

stateMixin

$data 代理了 _data
Object.defineProperty(Vue.prototype, '$data', {
	get: function() {
		return this._data
	} 
})

$props 代理了 _props
Object.defineProperty(Vue.prototype, '$props', {
	get: function() {
		return this._props
	} 
})

增加 $set 方法
Vue.prototype.$set

增加 $delete 方法
Vue.prototype.$delete

增加 $watch 方法
Vue.prototype.$watch

eventsMixin

Vue.prototype.$on
Vue.prototype.$once
Vue.prototype.$off
Vue.prototype.$emit

lifecycleMixin

Vue.prototype._update
Vue.prototype.$forceUpdate
Vue.prototype.$destroy
Vue.prototype 添加一些render辅助方法
Vue.prototype.$nextTick
Vue.prototype._render


renderMixin


第二篇 new Vue() 做了些什么？
内部调用了
_init(options)方法
	var vm = this
	mergeOptions()
	initProxy
	vm._self = vm
	initLifecycle(vm)
	initEvents(vm)
	initRender(vm)
	callHook(vm, 'beforeCreate')
	initInjections(vm)
	initState(vm)
	initProvide(vm)
	callHook(vm, 'created')

	$mount
		获取挂载元素el
		获取render函数
			如果有直接跳到下一步mount.call
			如果没有获取字符串模板并转化成render函数
				如果有template(option对象中有这个字段)
					尝试从template中获取字符串模板
				如果没有template
					则把当前挂载元素outerHTML做为模板
			如果获取到template模板
				调用compileToFunctions(), 生成 options.render = render 和 options.staticRenderFns = staticRenderFns
		执行mount.call(this, el, hydrating) 
			获取挂载元素el
			mountComponent() 
				callHook(vm, 'beforeMount')
				let updateComponent
				updateComponent = () => {
			      vm._update(vm._render(), hydrating)
			    }
			    vm._isMounted = true
			    callHook(vm, 'mounted')
